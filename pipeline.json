{
  "pipeline": {
    "name": "square"
  },
  "transform": {
    "image": "erikreppel/test-pipeline",
    "cmd": [ "sh" ],
    "stdin": [
      "sudo ls -l /pfs/data",
      "python square.py /pfs/data /pfs/out"
    ]
  },
  "parallelism": "3",
  "inputs": [
    {
      "repo": {
        "name": "data"
      }
    }
  ]
}
{
  "pipeline": {
    "name": "sum"
  },
  "transform": {
    "image": "erikreppel/test-pipeline-sum",
    "cmd": [ "sh" ],
    "stdin": [
      "sudo ls -l /pfs/square",
      "python sum.py /pfs/square /pfs/out"
    ]
  },
  "parallelism": "1",
  "inputs": [
    {
      "repo": {
        "name": "square"
      },
      "reduce": true
    }
  ]
}
{
  "pipeline": {
    "name": "scale"
  },
  "transform": {
    "image": "erikreppel/scale-pipe",
    "cmd": [ "sh" ],
    "stdin": [
      "echo 'Sum:'",
      "sudo ls -l /pfs/sum",
      "echo 'square:'",
      "sudo ls -l /pfs/square",
      "python scale.py /pfs/square /pfs/sum /pfs/out"
    ]
  },
  "parallelism": "1",
  "inputs": [
    {
      "repo": {
        "name": "square"
      }
    },
    {
      "repo": {
        "name": "sum"
      }
    }
  ]
}
{
  "pipeline": {
    "name": "add"
  },
  "transform": {
    "image": "erikreppel/add-pipe",
    "cmd": [ "sh" ],
    "stdin": [
      "echo 'Scale:'",
      "sudo ls -l /pfs/scale",
      "python add.py /pfs/scale /pfs/out"
    ]
  },
  "parallelism": "3",
  "inputs": [
    {
      "repo": {
        "name": "scale"
      }
    }
  ]
}
